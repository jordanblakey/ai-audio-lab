<!DOCTYPE html>
<html>
<head>
    <title>gRPC Transcription Client</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; }
        .container { border: 1px solid #ccc; padding: 20px; border-radius: 8px; }
        input[type="text"] { padding: 8px; width: 70%; }
        button { padding: 8px 16px; background-color: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .response { margin-top: 20px; padding: 10px; background-color: #f0f0f0; border-radius: 4px; }
        #audio-controls { margin-top: 20px; padding: 20px; border: 1px solid #eee; border-radius: 8px; text-align: center; }
        .canvas-container { position: relative; width: 100%; margin-top: 10px; border-radius: 4px; overflow: hidden; }
        canvas { width: 100%; height: 100%; background-color: #000; display: block; }
        canvas.overlay { position: absolute; top: 0; left: 0; background: transparent; pointer-events: none; }
        #waveform-container { height: 100px; }
        #spectrum-container { height: 100px; }
        #spectrogram-container { height: 200px; }
        .active { background-color: #dc3545; }
        .active:hover { background-color: #c82333; }
    </style>
</head>
<body>
    <div class="container">
        <h1>gRPC Transcription Client</h1>
        
        <div id="audio-controls">
            <h3>Audio Stream</h3>
            <button id="audio-toggle">Start Streaming</button>
            <div class="canvas-container" id="waveform-container">
                <canvas id="waveform"></canvas>
                <canvas id="waveform-ui" class="overlay"></canvas>
            </div>
            <div class="canvas-container" id="spectrum-container">
                <canvas id="freq-spectrum"></canvas>
                <canvas id="freq-spectrum-ui" class="overlay"></canvas>
            </div>
            <div class="canvas-container" id="spectrogram-container">
                <canvas id="spectrogram"></canvas>
                <canvas id="spectrogram-ui" class="overlay"></canvas>
            </div>
        </div>

        <form action="/send" method="post" style="margin-top: 20px;">
            <input type="text" name="name" placeholder="Enter your name" required>
            <button type="submit">Send</button>
        </form>
        {% if response %}
        <div class="response">
            <strong>Server Response:</strong> {{ response }}
        </div>
        {% endif %}
    </div>
    </div>
    <script src="/static/js/visualizer.js"></script>
</body>
</html>
